<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#0c1e3d">
  <meta name="description" content="Sistema de gesti√≥n inteligente con IA para mantenimiento industrial">
  <meta name="apple-mobile-web-app-title" content="Visual Mind AI">
  
  <title>Visual Mind AI - Sistema de Gesti√≥n Inteligente</title>
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIlZpc3VhbCBNaW5kIEFJIiwKICAic2hvcnRfbmFtZSI6ICJWTUFJIiwKICAiZGVzY3JpcHRpb24iOiAiU2lzdGVtYSBkZSBnZXN0acOzbiBpbnRlbGlnZW50ZSBjb24gSUEgcGFyYSBtYW50ZW5pbWllbnRvIGluZHVzdHJpYWwiLAogICJzdGFydF91cmwiOiAiLiIsCiAgImRpc3BsYXkiOiAic3RhbmRhbG9uZSIsCiAgImJhY2tncm91bmRfY29sb3IiOiAiIzBjMWUzZCIsCiAgInRoZW1lX2NvbG9yIjogIiMwYzFlM2QiLAogICJvcmllbnRhdGlvbiI6ICJwb3J0cmFpdCIsCiAgImljb25zIjogWwogICAgewogICAgICAic3JjIjogImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0Nzdmcgd2lkdGg9JzE5MicgaGVpZ2h0PScxOTInIHZpZXdCb3g9JzAgMCAxOTIgMTkyJyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFJTNDcmVjdCB3aWR0aD0nMTkyJyBoZWlnaHQ9JzE5MicgZmlsbD0nJTIzMGMxZTNkJy8lM0UlM0NwYXRoIGQ9J003MiA0OEE0OCA0OCAwIDAgMSAxMjAgOTZWMTQ0QTQ4IDQ4IDAgMCAxIDQ4IDE0NEE0OCA0OCAwIDAgMSA2MCA5NkE0OCA0OCAwIDAgMSA3MiA0OFonIGZpbGw9JyUyMzIyZDNlZScvJTNFJTNDcGF0aCBkPSdNMTIwIDQ4QTQ4IDQ4IDAgMCAwIDcyIDk2VjE0NEE0OCA0OCAwIDAgMCAxNDQgMTQ0QTQ4IDQ4IDAgMCAwIDEzMiA5NkE0OCA0OCAwIDAgMCAxMjAgNDhaJyBmaWxsPSclMjMyMmQzZWUnLyUzRSUzQy9zdmclM0UiLAogICAgICAic2l6ZXMiOiAiMTkyeDE5MiIsCiAgICAgICJ0eXBlIjogImltYWdlL3N2Zyt4bWwiLAogICAgICAicHVycG9zZSI6ICJhbnkgbWFza2FibGUiCiAgICB9LAogICAgewogICAgICAic3JjIjogImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0Nzdmcgd2lkdGg9JzUxMicgaGVpZ2h0PSc1MTInIHZpZXdCb3g9JzAgMCA1MTIgNTEyJyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFJTNDcmVjdCB3aWR0aD0nNTEyJyBoZWlnaHQ9JzUxMicgZmlsbD0nJTIzMGMxZTNkJy8lM0UlM0NwYXRoIGQ9J00xOTIgMTI4QTEyOCAxMjggMCAwIDEgMzIwIDI1NlYzODRBMTI4IDEyOCAwIDAgMSAxMjggMzg0QTEyOCAxMjggMCAwIDEgMTYwIDI1NkExMjggMTI4IDAgMCAxIDE5MiAxMjhaJyBmaWxsPSclMjMyMmQzZWUnLyUzRSUzQ3BhdGggZD0nTTMyMCAxMjhBMTI4IDEyOCAwIDAgMCAxOTIgMjU2VjM4NEExMjggMTI4IDAgMCAwIDM4NCAzODRBMTI4IDEyOCAwIDAgMCAzNTIgMjU2QTEyOCAxMjggMCAwIDAgMzIwIDEyOFonIGZpbGw9JyUyMzIyZDNlZScvJTNFJTNDL3N2ZyUzRSIsCiAgICAgICJzaXplcyI6ICI1MTJ4NTEyIiwKICAgICAgInR5cGUiOiAiaW1hZ2Uvc3ZnK3htbCIsCiAgICAgICJwdXJwb3NlIjogImFueSBtYXNrYWJsZSIKICAgIH0KICBdCn0=">
  
  <!-- Apple Touch Icons -->
  <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg width='180' height='180' viewBox='0 0 180 180' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='180' height='180' fill='%230c1e3d'/%3E%3Cpath d='M67.5 45A45 45 0 0 1 112.5 90V135A45 45 0 0 1 45 135A45 45 0 0 1 56.25 90A45 45 0 0 1 67.5 45Z' fill='%2322d3ee'/%3E%3Cpath d='M112.5 45A45 45 0 0 0 67.5 90V135A45 45 0 0 0 135 135A45 45 0 0 0 123.75 90A45 45 0 0 0 112.5 45Z' fill='%2322d3ee'/%3E%3C/svg%3E">
  
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- React & ReactDOM -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  
  <!-- Babel Standalone para JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <style>
    * {
      -webkit-tap-highlight-color: transparent;
      -webkit-touch-callout: none;
    }
    
    body {
      overscroll-behavior-y: contain;
      position: fixed;
      width: 100%;
      height: 100%;
      overflow: hidden;
    }
    
    #root {
      width: 100%;
      height: 100%;
      overflow-y: auto;
      overflow-x: hidden;
      -webkit-overflow-scrolling: touch;
    }
    
    /* Animaci√≥n de pulso para grabaci√≥n */
    @keyframes pulse-recording {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
    
    .recording-pulse {
      animation: pulse-recording 1.5s ease-in-out infinite;
    }
    
    /* Estilo personalizado para inputs de audio/video */
    audio, video {
      width: 100%;
      outline: none;
    }
    
    /* Scroll suave */
    html {
      scroll-behavior: smooth;
    }
    
    /* Loading spinner */
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .animate-spin {
      animation: spin 1s linear infinite;
    }
    
    /* Fade in animation */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .animate-fadeIn {
      animation: fadeIn 0.3s ease-out;
    }
    
    /* iOS safe area support */
    @supports(padding: max(0px)) {
      body {
        padding-top: max(0px, env(safe-area-inset-top));
        padding-bottom: max(0px, env(safe-area-inset-bottom));
      }
    }
  </style>
</head>
<body class="m-0 p-0">
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useRef, useEffect } = React;
    
    // PWA Installation Handler
    let deferredPrompt = null;
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
    });
    
    // Service Worker Registration
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(reg => console.log('‚úì Service Worker registrado:', reg.scope))
          .catch(err => console.log('‚úó Error en Service Worker:', err));
      });
    }
    
    // Iconos SVG (mismos del c√≥digo original)
    const Icon = ({ children, className, ...props }) => (
      <svg 
        className={className} 
        width="24" 
        height="24" 
        viewBox="0 0 24 24" 
        fill="none" 
        stroke="currentColor" 
        strokeWidth="2" 
        strokeLinecap="round" 
        strokeLinejoin="round"
        {...props}
      >
        {children}
      </svg>
    );
    
    const Camera = (props) => (
      <Icon {...props}>
        <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
        <circle cx="12" cy="13" r="4"/>
      </Icon>
    );
    
    const Mic = (props) => (
      <Icon {...props}>
        <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/>
        <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
        <line x1="12" y1="19" x2="12" y2="23"/>
        <line x1="8" y1="23" x2="16" y2="23"/>
      </Icon>
    );
    
    const Square = (props) => (
      <Icon {...props}>
        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
      </Icon>
    );
    
    const Trash2 = (props) => (
      <Icon {...props}>
        <polyline points="3 6 5 6 21 6"/>
        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
        <line x1="10" y1="11" x2="10" y2="17"/>
        <line x1="14" y1="11" x2="14" y2="17"/>
      </Icon>
    );
    
    const Brain = (props) => (
      <Icon {...props}>
        <path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"/>
        <path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"/>
      </Icon>
    );
    
    const CheckSquare = (props) => (
      <Icon {...props}>
        <polyline points="9 11 12 14 22 4"/>
        <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
      </Icon>
    );
    
    const Calendar = (props) => (
      <Icon {...props}>
        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
        <line x1="16" y1="2" x2="16" y2="6"/>
        <line x1="8" y1="2" x2="8" y2="6"/>
        <line x1="3" y1="10" x2="21" y2="10"/>
      </Icon>
    );
    
    const Clock = (props) => (
      <Icon {...props}>
        <circle cx="12" cy="12" r="10"/>
        <polyline points="12 6 12 12 16 14"/>
      </Icon>
    );
    
    const ChevronDown = (props) => (
      <Icon {...props}>
        <polyline points="6 9 12 15 18 9"/>
      </Icon>
    );
    
    const ChevronRight = (props) => (
      <Icon {...props}>
        <polyline points="9 18 15 12 9 6"/>
      </Icon>
    );
    
    const Download = (props) => (
      <Icon {...props}>
        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
        <polyline points="7 10 12 15 17 10"/>
        <line x1="12" y1="15" x2="12" y2="3"/>
      </Icon>
    );

    const Share = (props) => (
      <Icon {...props}>
        <circle cx="18" cy="5" r="3"/>
        <circle cx="6" cy="12" r="3"/>
        <circle cx="18" cy="19" r="3"/>
        <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
        <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
      </Icon>
    );

    // Componente principal
    function VisualMindAI() {
      // Estados principales (mismos del original)
      const [recordings, setRecordings] = useState([]);
      const [isRecording, setIsRecording] = useState(false);
      const [recordingType, setRecordingType] = useState('audio');
      const [currentRecording, setCurrentRecording] = useState(null);
      const [tasks, setTasks] = useState([]);
      const [processing, setProcessing] = useState(false);
      const [activeView, setActiveView] = useState('recorder');
      const [selectedCategories, setSelectedCategories] = useState(['all']);
      const [expandedTasks, setExpandedTasks] = useState({});
      const [showInstallPrompt, setShowInstallPrompt] = useState(false);
      const [isOnline, setIsOnline] = useState(navigator.onLine);
      
      // Referencias
      const mediaRecorderRef = useRef(null);
      const chunksRef = useRef([]);
      const streamRef = useRef(null);
      const videoPreviewRef = useRef(null);
      const recordingStartTime = useRef(null);
      const [recordingDuration, setRecordingDuration] = useState(0);

      // Monitor de conectividad
      useEffect(() => {
        const handleOnline = () => setIsOnline(true);
        const handleOffline = () => setIsOnline(false);
        
        window.addEventListener('online', handleOnline);
        window.addEventListener('offline', handleOffline);
        
        return () => {
          window.removeEventListener('online', handleOnline);
          window.removeEventListener('offline', handleOffline);
        };
      }, []);

      // Detectar PWA instalable
      useEffect(() => {
        const checkInstallable = () => {
          const isStandalone = window.matchMedia('(display-mode: standalone)').matches ||
                               window.navigator.standalone === true;
          setShowInstallPrompt(deferredPrompt !== null && !isStandalone);
        };
        
        checkInstallable();
        window.addEventListener('beforeinstallprompt', checkInstallable);
        
        return () => window.removeEventListener('beforeinstallprompt', checkInstallable);
      }, []);

      // Timer para duraci√≥n de grabaci√≥n
      useEffect(() => {
        let interval;
        if (isRecording) {
          interval = setInterval(() => {
            setRecordingDuration(Date.now() - recordingStartTime.current);
          }, 100);
        } else {
          setRecordingDuration(0);
        }
        return () => clearInterval(interval);
      }, [isRecording]);

      // Cargar datos desde localStorage
      useEffect(() => {
        const savedRecordings = localStorage.getItem('visualMind_recordings');
        const savedTasks = localStorage.getItem('visualMind_tasks');
        if (savedRecordings) setRecordings(JSON.parse(savedRecordings));
        if (savedTasks) setTasks(JSON.parse(savedTasks));
      }, []);

      // Guardar datos en localStorage
      useEffect(() => {
        if (recordings.length > 0) {
          localStorage.setItem('visualMind_recordings', JSON.stringify(recordings.map(r => ({
            ...r,
            blob: null,
            url: null
          }))));
        }
      }, [recordings]);

      useEffect(() => {
        if (tasks.length > 0) {
          localStorage.setItem('visualMind_tasks', JSON.stringify(tasks));
        }
      }, [tasks]);

      // Funci√≥n: Instalar PWA
      const installPWA = async () => {
        if (!deferredPrompt) return;
        
        deferredPrompt.prompt();
        const { outcome } = await deferredPrompt.userChoice;
        
        if (outcome === 'accepted') {
          console.log('‚úì PWA instalada');
        }
        
        deferredPrompt = null;
        setShowInstallPrompt(false);
      };

      // Funci√≥n: Compartir datos
      const shareApp = async () => {
        if (navigator.share) {
          try {
            await navigator.share({
              title: 'Visual Mind AI',
              text: 'Sistema de gesti√≥n inteligente con IA para mantenimiento industrial',
              url: window.location.href
            });
          } catch (err) {
            console.log('Compartir cancelado');
          }
        }
      };

      // Funci√≥n: Iniciar grabaci√≥n (misma l√≥gica del original)
      const startRecording = async () => {
        try {
          const constraints = recordingType === 'video' 
            ? { video: { facingMode: 'user', width: 1280, height: 720 }, audio: true }
            : { audio: true };

          const stream = await navigator.mediaDevices.getUserMedia(constraints);
          streamRef.current = stream;

          if (recordingType === 'video' && videoPreviewRef.current) {
            videoPreviewRef.current.srcObject = stream;
            videoPreviewRef.current.play();
          }

          const mimeType = recordingType === 'video' 
            ? (MediaRecorder.isTypeSupported('video/webm;codecs=vp8,opus') 
                ? 'video/webm;codecs=vp8,opus' 
                : 'video/webm')
            : (MediaRecorder.isTypeSupported('audio/webm;codecs=opus')
                ? 'audio/webm;codecs=opus'
                : 'audio/webm');

          const mediaRecorder = new MediaRecorder(stream, { mimeType });
          mediaRecorderRef.current = mediaRecorder;
          chunksRef.current = [];

          mediaRecorder.ondataavailable = (event) => {
            if (event.data.size > 0) {
              chunksRef.current.push(event.data);
            }
          };

          mediaRecorder.onstop = () => {
            const blob = new Blob(chunksRef.current, { type: mimeType });
            const url = URL.createObjectURL(blob);
            const duration = Date.now() - recordingStartTime.current;
            
            const newRecording = {
              id: Date.now(),
              type: recordingType,
              url,
              blob,
              timestamp: new Date().toISOString(),
              duration: Math.floor(duration / 1000),
              transcription: null,
              analysis: null
            };

            setRecordings(prev => [newRecording, ...prev]);
            setCurrentRecording(newRecording);

            if (streamRef.current) {
              streamRef.current.getTracks().forEach(track => track.stop());
              streamRef.current = null;
            }
          };

          recordingStartTime.current = Date.now();
          mediaRecorder.start(100);
          setIsRecording(true);

        } catch (error) {
          console.error('Error al iniciar grabaci√≥n:', error);
          alert('‚ùå ERROR DE PERMISOS\n\nNo se pudo acceder al micr√≥fono/c√°mara.\n\nVERIFIQUE:\n1. Permisos del navegador\n2. HTTPS habilitado\n3. Dispositivo compatible');
        }
      };

      // Funci√≥n: Detener grabaci√≥n
      const stopRecording = () => {
        if (mediaRecorderRef.current && isRecording) {
          mediaRecorderRef.current.stop();
          setIsRecording(false);
          
          if (videoPreviewRef.current) {
            videoPreviewRef.current.srcObject = null;
          }
        }
      };

      // Funci√≥n: Procesar con IA (misma l√≥gica del original)
      const processWithAI = async (recording) => {
        if (!isOnline) {
          alert('‚ö†Ô∏è SIN CONEXI√ìN\n\nRequiere conexi√≥n a internet para procesar con IA.');
          return;
        }

        setProcessing(true);
        try {
          const mockTranscription = `Transcripci√≥n autom√°tica de la grabaci√≥n del ${new Date(recording.timestamp).toLocaleString('es-ES')}. 

En esta reuni√≥n se discutieron los siguientes temas cr√≠ticos:

1. MANTENIMIENTO PREVENTIVO: Revisar el sistema de mantenimiento preventivo de la l√≠nea 3 antes del viernes. Es cr√≠tico porque tenemos la auditor√≠a FDA la pr√≥xima semana.

2. GESTI√ìN DE COMPRAS: Contactar urgentemente al proveedor de repuestos para aprobar la orden de compra PO-2024-1156. Sin estos repuestos no podemos completar el mantenimiento.

3. DOCUMENTACI√ìN GMP: Completar el informe de validaci√≥n GMP del equipo de producci√≥n l√≠nea 3. Debe incluir todos los par√°metros cr√≠ticos de proceso.

4. CAPACITACI√ìN: Programar sesi√≥n de capacitaci√≥n de seguridad para el equipo nuevo que ingresa el lunes. Tema: Procedimientos de lockout/tagout.

5. CALIBRACI√ìN: Verificar estado de calibraci√≥n de los 15 instrumentos cr√≠ticos del √°rea de producci√≥n. Algunos vencen esta semana.

6. AUDITOR√çA FDA: Preparar toda la documentaci√≥n de trazabilidad para la auditor√≠a FDA programada para el 25 de noviembre. Incluir batch records completos del √∫ltimo trimestre.

7. SEGUIMIENTO: Dar seguimiento al incidente reportado ayer en el turno nocturno. Necesitamos root cause analysis completado.`;

          const response = await fetch("https://api.anthropic.com/v1/messages", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify({
              model: "claude-sonnet-4-20250514",
              max_tokens: 2000,
              messages: [{
                role: "user",
                content: `Eres un asistente especializado en gesti√≥n de mantenimiento industrial y producci√≥n farmac√©utica GMP.

Analiza la siguiente transcripci√≥n de reuni√≥n y extrae informaci√≥n estructurada:

TRANSCRIPCI√ìN:
${mockTranscription}

INSTRUCCIONES CR√çTICAS:
1. Genera un resumen ejecutivo conciso (m√°ximo 100 palabras) enfocado en accionables
2. Extrae TODAS las tareas mencionadas con m√°ximo detalle
3. Clasifica cada tarea por prioridad considerando:
   - alta: Impacto en cumplimiento regulatorio, seguridad, o deadlines inminentes
   - media: Operaciones normales, mantenimiento programado
   - baja: Tareas de seguimiento o administrativas
4. Asigna categor√≠a precisa (mantenimiento/producci√≥n/calidad/seguridad/administraci√≥n/compras)
5. Detecta y extrae TODAS las fechas l√≠mite mencionadas
6. Estima horas de trabajo realistas para cada tarea
7. Identifica dependencias entre tareas

Responde √öNICAMENTE con JSON v√°lido en este formato EXACTO:
{
  "resumen": "texto del resumen ejecutivo",
  "tareas": [
    {
      "titulo": "t√≠tulo descriptivo y espec√≠fico de la tarea",
      "descripcion": "descripci√≥n detallada con contexto completo",
      "prioridad": "alta|media|baja",
      "categoria": "mantenimiento|producci√≥n|calidad|seguridad|administraci√≥n|compras",
      "fechaLimite": "YYYY-MM-DD" o null,
      "estimacionHoras": n√∫mero realista o null,
      "dependencias": ["descripciones de tareas prerequisito"] o []
    }
  ],
  "temas_clave": ["tema1", "tema2", "tema3"],
  "accionables_inmediatos": ["acci√≥n urgente 1", "acci√≥n urgente 2"]
}

CR√çTICO: NO incluyas NADA fuera del JSON. NO uses bloques de c√≥digo markdown. Responde solo JSON puro.`
              }]
            })
          });

          const data = await response.json();
          let analysisText = data.content[0].text;
          
          analysisText = analysisText.replace(/```json\n?/g, "").replace(/```\n?/g, "").trim();
          
          const analysis = JSON.parse(analysisText);

          setRecordings(prev => prev.map(rec => 
            rec.id === recording.id 
              ? { ...rec, transcription: mockTranscription, analysis }
              : rec
          ));

          if (analysis.tareas && analysis.tareas.length > 0) {
            const newTasks = analysis.tareas.map(task => ({
              id: `task_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
              ...task,
              estado: 'pendiente',
              recordingId: recording.id,
              createdAt: new Date().toISOString(),
              completedAt: null,
              notas: []
            }));

            setTasks(prev => [...newTasks, ...prev]);
            alert(`‚úì AN√ÅLISIS COMPLETADO\n\n${analysis.tareas.length} tareas extra√≠das\n${analysis.accionables_inmediatos.length} accionables inmediatos identificados`);
          }

        } catch (error) {
          console.error('Error al procesar con IA:', error);
          alert('‚ùå ERROR EN PROCESAMIENTO IA\n\nVerifique:\n‚Ä¢ Conexi√≥n a internet\n‚Ä¢ Permisos de API\n\nDetalles t√©cnicos en consola');
        } finally {
          setProcessing(false);
        }
      };

      // Funciones restantes (mismas del original)
      const deleteRecording = (id) => {
        if (confirm('‚ö†Ô∏è CONFIRMACI√ìN DE ELIMINACI√ìN\n\n¬øEliminar esta grabaci√≥n y TODAS sus tareas asociadas?\n\nEsta acci√≥n es IRREVERSIBLE.')) {
          setRecordings(prev => prev.filter(rec => rec.id !== id));
          setTasks(prev => prev.filter(task => task.recordingId !== id));
        }
      };

      const updateTaskStatus = (taskId, newStatus) => {
        setTasks(prev => prev.map(task => 
          task.id === taskId 
            ? { 
                ...task, 
                estado: newStatus,
                completedAt: newStatus === 'completada' ? new Date().toISOString() : null
              }
            : task
        ));
      };

      const toggleTaskExpansion = (taskId) => {
        setExpandedTasks(prev => ({ ...prev, [taskId]: !prev[taskId] }));
      };

      const formatDuration = (ms) => {
        const seconds = Math.floor(ms / 1000);
        const minutes = Math.floor(seconds / 60);
        const secs = seconds % 60;
        return `${minutes}:${secs.toString().padStart(2, '0')}`;
      };

      const exportData = () => {
        const data = {
          recordings: recordings.map(rec => ({
            ...rec,
            blob: null,
            url: null
          })),
          tasks,
          exportDate: new Date().toISOString(),
          version: '1.0.0'
        };
        
        const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `visual-mind-backup-${Date.now()}.json`;
        a.click();
        URL.revokeObjectURL(url);
      };

      const filteredTasks = selectedCategories.includes('all') 
        ? tasks 
        : tasks.filter(task => selectedCategories.includes(task.categoria));

      const categoryColors = {
        mantenimiento: 'bg-blue-500',
        producci√≥n: 'bg-green-500',
        calidad: 'bg-purple-500',
        seguridad: 'bg-red-500',
        administraci√≥n: 'bg-yellow-500',
        compras: 'bg-orange-500'
      };

      const priorityColors = {
        alta: 'border-red-500 bg-red-50',
        media: 'border-yellow-500 bg-yellow-50',
        baja: 'border-green-500 bg-green-50'
      };

      return (
        <div className="min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900 text-white">
          {/* Install Banner */}
          {showInstallPrompt && (
            <div className="fixed top-0 left-0 right-0 bg-cyan-500 text-white px-4 py-3 z-50 flex items-center justify-between shadow-lg">
              <div className="flex-1">
                <p className="font-medium">üì± Instalar Visual Mind AI</p>
                <p className="text-xs opacity-90">Acceso r√°pido como app nativa</p>
              </div>
              <div className="flex gap-2">
                <button
                  onClick={() => setShowInstallPrompt(false)}
                  className="px-3 py-1 text-sm bg-white bg-opacity-20 rounded hover:bg-opacity-30"
                >
                  Ahora no
                </button>
                <button
                  onClick={installPWA}
                  className="px-4 py-1 text-sm bg-white text-cyan-600 font-medium rounded hover:bg-opacity-90"
                >
                  Instalar
                </button>
              </div>
            </div>
          )}

          {/* Connection Status */}
          {!isOnline && (
            <div className="fixed top-0 left-0 right-0 bg-red-600 text-white px-4 py-2 text-center text-sm z-40">
              ‚ö†Ô∏è SIN CONEXI√ìN - Modo offline limitado
            </div>
          )}

          {/* Header */}
          <div className="bg-black bg-opacity-50 backdrop-blur-lg border-b border-gray-700 sticky top-0 z-30">
            <div className="container mx-auto px-4 py-4">
              <div className="flex items-center justify-between">
                <div className="flex items-center gap-3">
                  <Brain className="w-8 h-8 text-cyan-400" />
                  <div>
                    <h1 className="text-2xl font-bold">Visual Mind AI</h1>
                    <p className="text-xs text-gray-400">Sistema de Gesti√≥n Inteligente v1.0</p>
                  </div>
                </div>
                <div className="flex gap-2">
                  {navigator.share && (
                    <button onClick={shareApp} className="p-2 hover:bg-gray-700 rounded-lg transition-all" title="Compartir app">
                      <Share className="w-5 h-5" />
                    </button>
                  )}
                  <button onClick={exportData} className="p-2 hover:bg-gray-700 rounded-lg transition-all" title="Exportar datos">
                    <Download className="w-5 h-5" />
                  </button>
                </div>
              </div>
              
              {/* Navigation */}
              <div className="flex gap-2 mt-4 overflow-x-auto">
                <button
                  onClick={() => setActiveView('recorder')}
                  className={`px-4 py-2 rounded-lg font-medium transition-all whitespace-nowrap ${
                    activeView === 'recorder' 
                      ? 'bg-cyan-500 text-white' 
                      : 'bg-gray-700 hover:bg-gray-600'
                  }`}
                >
                  <Mic className="w-4 h-4 inline mr-2" />
                  Grabador
                </button>
                <button
                  onClick={() => setActiveView('tasks')}
                  className={`px-4 py-2 rounded-lg font-medium transition-all whitespace-nowrap ${
                    activeView === 'tasks' 
                      ? 'bg-cyan-500 text-white' 
                      : 'bg-gray-700 hover:bg-gray-600'
                  }`}
                >
                  <CheckSquare className="w-4 h-4 inline mr-2" />
                  Tareas ({tasks.filter(t => t.estado === 'pendiente').length})
                </button>
                <button
                  onClick={() => setActiveView('mindmap')}
                  className={`px-4 py-2 rounded-lg font-medium transition-all whitespace-nowrap ${
                    activeView === 'mindmap' 
                      ? 'bg-cyan-500 text-white' 
                      : 'bg-gray-700 hover:bg-gray-600'
                  }`}
                >
                  <Brain className="w-4 h-4 inline mr-2" />
                  Mind Map
                </button>
              </div>
            </div>
          </div>

          {/* Content Area - MISMO CONTENIDO DEL ORIGINAL */}
          <div className="container mx-auto px-4 py-6 pb-24">
            
            {/* VISTA: GRABADOR */}
            {activeView === 'recorder' && (
              <div className="space-y-6">
                <div className="bg-gray-800 bg-opacity-50 backdrop-blur-lg rounded-xl p-6 border border-gray-700">
                  <h2 className="text-xl font-bold mb-4">Nueva Grabaci√≥n</h2>
                  
                  <div className="flex gap-4 mb-6">
                    <button
                      onClick={() => !isRecording && setRecordingType('audio')}
                      disabled={isRecording}
                      className={`flex-1 p-4 rounded-lg border-2 transition-all ${
                        recordingType === 'audio'
                          ? 'border-cyan-500 bg-cyan-500 bg-opacity-20'
                          : 'border-gray-600 hover:border-gray-500'
                      } ${isRecording ? 'opacity-50 cursor-not-allowed' : ''}`}
                    >
                      <Mic className="w-8 h-8 mx-auto mb-2" />
                      <div className="font-medium">Solo Audio</div>
                    </button>
                    <button
                      onClick={() => !isRecording && setRecordingType('video')}
                      disabled={isRecording}
                      className={`flex-1 p-4 rounded-lg border-2 transition-all ${
                        recordingType === 'video'
                          ? 'border-cyan-500 bg-cyan-500 bg-opacity-20'
                          : 'border-gray-600 hover:border-gray-500'
                      } ${isRecording ? 'opacity-50 cursor-not-allowed' : ''}`}
                    >
                      <Camera className="w-8 h-8 mx-auto mb-2" />
                      <div className="font-medium">Video + Audio</div>
                    </button>
                  </div>

                  {recordingType === 'video' && isRecording && (
                    <div className="mb-6">
                      <video
                        ref={videoPreviewRef}
                        className="w-full rounded-lg bg-black"
                        autoPlay
                        muted
                        playsInline
                      />
                    </div>
                  )}

                  <div className="text-center">
                    {isRecording && (
                      <div className="mb-4">
                        <div className="text-3xl font-bold text-red-500 recording-pulse">
                          {formatDuration(recordingDuration)}
                        </div>
                        <div className="text-sm text-gray-400 flex items-center justify-center gap-2">
                          <span className="w-3 h-3 bg-red-500 rounded-full animate-pulse"></span>
                          Grabando...
                        </div>
                      </div>
                    )}
                    
                    <button
                      onClick={isRecording ? stopRecording : startRecording}
                      disabled={processing}
                      className={`px-8 py-4 rounded-full font-bold text-lg transition-all ${
                        isRecording
                          ? 'bg-red-500 hover:bg-red-600'
                          : 'bg-cyan-500 hover:bg-cyan-600'
                      } disabled:opacity-50 disabled:cursor-not-allowed shadow-lg`}
                    >
                      {isRecording ? (
                        <>
                          <Square className="w-6 h-6 inline mr-2" />
                          Detener Grabaci√≥n
                        </>
                      ) : (
                        <>
                          {recordingType === 'video' ? (
                            <Camera className="w-6 h-6 inline mr-2" />
                          ) : (
                            <Mic className="w-6 h-6 inline mr-2" />
                          )}
                          Iniciar Grabaci√≥n
                        </>
                      )}
                    </button>
                  </div>
                </div>

                {/* Lista de grabaciones */}
                <div className="space-y-4">
                  <h2 className="text-xl font-bold">Grabaciones Recientes ({recordings.length})</h2>
                  
                  {recordings.length === 0 ? (
                    <div className="bg-gray-800 bg-opacity-50 rounded-xl p-12 text-center border border-gray-700">
                      <Brain className="w-16 h-16 mx-auto mb-4 text-gray-600" />
                      <p className="text-gray-400 mb-2">No hay grabaciones a√∫n</p>
                      <p className="text-sm text-gray-500">Presione "Iniciar Grabaci√≥n" para comenzar</p>
                    </div>
                  ) : (
                    recordings.map(recording => (
                      <div key={recording.id} className="bg-gray-800 bg-opacity-50 backdrop-blur-lg rounded-xl p-6 border border-gray-700">
                        <div className="flex items-start justify-between mb-4">
                          <div className="flex-1">
                            <div className="flex items-center gap-2 mb-2">
                              {recording.type === 'video' ? (
                                <Camera className="w-5 h-5 text-cyan-400" />
                              ) : (
                                <Mic className="w-5 h-5 text-cyan-400" />
                              )}
                              <span className="font-medium">
                                {new Date(recording.timestamp).toLocaleString('es-ES', {
                                  dateStyle: 'medium',
                                  timeStyle: 'short'
                                })}
                              </span>
                            </div>
                            <div className="text-sm text-gray-400">
                              Duraci√≥n: {recording.duration}s | Tipo: {recording.type === 'video' ? 'Video + Audio' : 'Solo Audio'}
                            </div>
                          </div>
                          <button
                            onClick={() => deleteRecording(recording.id)}
                            className="p-2 hover:bg-red-500 rounded-lg transition-all"
                            title="Eliminar grabaci√≥n"
                          >
                            <Trash2 className="w-5 h-5" />
                          </button>
                        </div>

                        {recording.type === 'video' ? (
                          <video src={recording.url} controls className="w-full rounded-lg mb-4 bg-black" />
                        ) : (
                          <audio src={recording.url} controls className="w-full mb-4" />
                        )}

                        {recording.analysis ? (
                          <div className="space-y-3">
                            <div className="bg-gray-900 bg-opacity-50 rounded-lg p-4">
                              <div className="font-medium text-cyan-400 mb-2 flex items-center gap-2">
                                <Brain className="w-4 h-4" />
                                Resumen Ejecutivo
                              </div>
                              <p className="text-sm leading-relaxed">{recording.analysis.resumen}</p>
                            </div>
                            
                            {recording.analysis.tareas && recording.analysis.tareas.length > 0 && (
                              <div className="bg-gray-900 bg-opacity-50 rounded-lg p-4">
                                <div className="font-medium text-green-400 mb-2 flex items-center gap-2">
                                  <CheckSquare className="w-4 h-4" />
                                  Tareas Extra√≠das: {recording.analysis.tareas.length}
                                </div>
                                <div className="text-sm text-gray-300 space-y-1">
                                  {recording.analysis.tareas.slice(0, 5).map((t, i) => (
                                    <div key={i} className="flex items-start gap-2">
                                      <span className="text-cyan-400 mt-1">‚Ä¢</span>
                                      <span>{t.titulo}</span>
                                    </div>
                                  ))}
                                  {recording.analysis.tareas.length > 5 && (
                                    <div className="text-gray-500 text-xs mt-2">
                                      ... y {recording.analysis.tareas.length - 5} tareas m√°s
                                    </div>
                                  )}
                                </div>
                              </div>
                            )}

                            {recording.analysis.accionables_inmediatos && recording.analysis.accionables_inmediatos.length > 0 && (
                              <div className="bg-orange-900 bg-opacity-30 rounded-lg p-4 border border-orange-500">
                                <div className="font-medium text-orange-400 mb-2">‚ö° Accionables Inmediatos</div>
                                <div className="text-sm text-gray-300 space-y-1">
                                  {recording.analysis.accionables_inmediatos.map((a, i) => (
                                    <div key={i}>‚Ä¢ {a}</div>
                                  ))}
                                </div>
                              </div>
                            )}
                          </div>
                        ) : (
                          <button
                            onClick={() => processWithAI(recording)}
                            disabled={processing || !isOnline}
                            className="w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 py-3 rounded-lg font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg"
                          >
                            <Brain className="w-5 h-5 inline mr-2" />
                            {processing ? 'Procesando con IA...' : !isOnline ? 'Requiere conexi√≥n' : 'Analizar con IA'}
                          </button>
                        )}
                      </div>
                    ))
                  )}
                </div>
              </div>
            )}

            {/* VISTA: TAREAS */}
            {activeView === 'tasks' && (
              <div className="space-y-6">
                <div className="bg-gray-800 bg-opacity-50 backdrop-blur-lg rounded-xl p-6 border border-gray-700">
                  <h2 className="text-xl font-bold mb-4">Filtros por Categor√≠a</h2>
                  <div className="flex flex-wrap gap-2">
                    <button
                      onClick={() => setSelectedCategories(['all'])}
                      className={`px-4 py-2 rounded-lg font-medium transition-all ${
                        selectedCategories.includes('all')
                          ? 'bg-cyan-500'
                          : 'bg-gray-700 hover:bg-gray-600'
                      }`}
                    >
                      Todas ({tasks.length})
                    </button>
                    {Object.keys(categoryColors).map(cat => {
                      const count = tasks.filter(t => t.categoria === cat).length;
                      return (
                        <button
                          key={cat}
                          onClick={() => {
                            if (selectedCategories.includes(cat)) {
                              const newCats = selectedCategories.filter(c => c !== cat && c !== 'all');
                              setSelectedCategories(newCats.length > 0 ? newCats : ['all']);
                            } else {
                              setSelectedCategories(prev => [...prev.filter(c => c !== 'all'), cat]);
                            }
                          }}
                          className={`px-4 py-2 rounded-lg font-medium transition-all capitalize ${
                            selectedCategories.includes(cat)
                              ? categoryColors[cat]
                              : 'bg-gray-700 hover:bg-gray-600'
                          }`}
                        >
                          {cat} ({count})
                        </button>
                      );
                    })}
                  </div>
                </div>

                <div className="space-y-4">
                  <div className="flex items-center justify-between">
                    <h2 className="text-xl font-bold">
                      Tareas {selectedCategories.includes('all') ? 'Todas' : 'Filtradas'}
                    </h2>
                    <div className="text-sm text-gray-400">
                      {filteredTasks.filter(t => t.estado === 'pendiente').length} pendientes | {' '}
                      {filteredTasks.filter(t => t.estado === 'en_progreso').length} en progreso | {' '}
                      {filteredTasks.filter(t => t.estado === 'completada').length} completadas
                    </div>
                  </div>
                  
                  {filteredTasks.length === 0 ? (
                    <div className="bg-gray-800 bg-opacity-50 rounded-xl p-12 text-center border border-gray-700">
                      <CheckSquare className="w-16 h-16 mx-auto mb-4 text-gray-600" />
                      <p className="text-gray-400 mb-2">No hay tareas en esta categor√≠a</p>
                      <p className="text-sm text-gray-500">Graba una reuni√≥n y proc√©sala con IA para extraer tareas autom√°ticamente</p>
                    </div>
                  ) : (
                    filteredTasks.map(task => (
                      <div
                        key={task.id}
                        className={`bg-gray-800 bg-opacity-50 backdrop-blur-lg rounded-xl p-6 border-l-4 ${priorityColors[task.prioridad]} border-r border-t border-b border-gray-700 transition-all hover:bg-opacity-70`}
                      >
                        <div className="flex items-start justify-between mb-3">
                          <div className="flex-1">
                            <div className="flex items-center gap-3 mb-2">
                              <button
                                onClick={() => toggleTaskExpansion(task.id)}
                                className="hover:bg-gray-700 p-1 rounded transition-all"
                              >
                                {expandedTasks[task.id] ? (
                                  <ChevronDown className="w-5 h-5" />
                                ) : (
                                  <ChevronRight className="w-5 h-5" />
                                )}
                              </button>
                              <h3 className="font-bold text-lg">{task.titulo}</h3>
                            </div>
                            
                            <div className="flex flex-wrap gap-2 ml-9">
                              <span className={`px-3 py-1 rounded-full text-xs font-medium ${categoryColors[task.categoria]} text-white`}>
                                {task.categoria}
                              </span>
                              <span className={`px-3 py-1 rounded-full text-xs font-medium ${
                                task.prioridad === 'alta' ? 'bg-red-600' :
                                task.prioridad === 'media' ? 'bg-yellow-600' : 'bg-green-600'
                              }`}>
                                {task.prioridad.toUpperCase()}
                              </span>
                              {task.fechaLimite && (
                                <span className="px-3 py-1 rounded-full text-xs font-medium bg-orange-500 flex items-center gap-1">
                                  <Calendar className="w-3 h-3" />
                                  {new Date(task.fechaLimite).toLocaleDateString('es-ES')}
                                </span>
                              )}
                              {task.estimacionHoras && (
                                <span className="px-3 py-1 rounded-full text-xs font-medium bg-blue-500 flex items-center gap-1">
                                  <Clock className="w-3 h-3" />
                                  {task.estimacionHoras}h
                                </span>
                              )}
                            </div>
                          </div>
                          
                          <select
                            value={task.estado}
                            onChange={(e) => updateTaskStatus(task.id, e.target.value)}
                            className="bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500"
                          >
                            <option value="pendiente">‚è≥ Pendiente</option>
                            <option value="en_progreso">üîÑ En Progreso</option>
                            <option value="completada">‚úÖ Completada</option>
                            <option value="cancelada">‚ùå Cancelada</option>
                          </select>
                        </div>

                        {expandedTasks[task.id] && (
                          <div className="ml-9 mt-4 space-y-3 animate-fadeIn">
                            <div className="bg-gray-900 bg-opacity-50 rounded-lg p-4">
                              <div className="font-medium text-cyan-400 mb-2">üìã Descripci√≥n Completa</div>
                              <p className="text-sm leading-relaxed">{task.descripcion}</p>
                            </div>
                            
                            {task.dependencias && task.dependencias.length > 0 && (
                              <div className="bg-gray-900 bg-opacity-50 rounded-lg p-4">
                                <div className="font-medium text-yellow-400 mb-2">üîó Dependencias</div>
                                <div className="text-sm space-y-1">
                                  {task.dependencias.map((dep, i) => (
                                    <div key={i} className="flex items-start gap-2">
                                      <span className="text-yellow-400">‚Ä¢</span>
                                      <span>{dep}</span>
                                    </div>
                                  ))}
                                </div>
                              </div>
                            )}
                            
                            <div className="text-xs text-gray-400 flex items-center gap-4">
                              <span>üìÖ Creada: {new Date(task.createdAt).toLocaleString('es-ES')}</span>
                              {task.completedAt && (
                                <span>‚úÖ Completada: {new Date(task.completedAt).toLocaleString('es-ES')}</span>
                              )}
                            </div>
                          </div>
                        )}
                      </div>
                    ))
                  )}
                </div>
              </div>
            )}

            {/* VISTA: MIND MAP */}
            {activeView === 'mindmap' && (
              <div className="bg-gray-800 bg-opacity-50 backdrop-blur-lg rounded-xl p-6 border border-gray-700">
                <h2 className="text-xl font-bold mb-6">üß† Mapa Mental de Tareas</h2>
                
                {tasks.length === 0 ? (
                  <div className="p-12 text-center">
                    <Brain className="w-16 h-16 mx-auto mb-4 text-gray-600" />
                    <p className="text-gray-400 mb-2">No hay tareas para visualizar</p>
                    <p className="text-sm text-gray-500">Procesa una grabaci√≥n con IA para generar el mapa mental</p>
                  </div>
                ) : (
                  <div className="space-y-8">
                    {Object.keys(categoryColors).map(categoria => {
                      const categoryTasks = tasks.filter(t => t.categoria === categoria && t.estado !== 'completada');
                      if (categoryTasks.length === 0) return null;
                      
                      const highPriority = categoryTasks.filter(t => t.prioridad === 'alta').length;
                      
                      return (
                        <div key={categoria} className="relative">
                          <div className="flex items-center gap-4 mb-4">
                            <div className={`w-6 h-6 rounded-full ${categoryColors[categoria]} shadow-lg`} />
                            <h3 className="text-lg font-bold capitalize">{categoria}</h3>
                            <span className="text-sm text-gray-400">({categoryTasks.length} tareas)</span>
                            {highPriority > 0 && (
                              <span className="px-3 py-1 rounded-full text-xs font-medium bg-red-500">
                                {highPriority} ALTA prioridad
                              </span>
                            )}
                          </div>
                          
                          <div className="ml-10 space-y-3">
                            {categoryTasks.map(task => (
                              <div
                                key={task.id}
                                className={`bg-gray-900 bg-opacity-50 rounded-lg p-4 border-l-4 transition-all hover:bg-opacity-70 ${
                                  task.prioridad === 'alta' ? 'border-red-500' :
                                  task.prioridad === 'media' ? 'border-yellow-500' : 'border-green-500'
                                }`}
                              >
                                <div className="flex items-center justify-between">
                                  <div className="flex-1">
                                    <div className="font-medium mb-1">{task.titulo}</div>
                                    <div className="text-xs text-gray-400 flex flex-wrap items-center gap-3">
                                      <span className={`px-2 py-0.5 rounded ${
                                        task.prioridad === 'alta' ? 'bg-red-600' :
                                        task.prioridad === 'media' ? 'bg-yellow-600' : 'bg-green-600'
                                      }`}>
                                        {task.prioridad}
                                      </span>
                                      {task.fechaLimite && (
                                        <span className="flex items-center gap-1">
                                          <Calendar className="w-3 h-3" />
                                          {new Date(task.fechaLimite).toLocaleDateString('es-ES')}
                                        </span>
                                      )}
                                      {task.estimacionHoras && (
                                        <span className="flex items-center gap-1">
                                          <Clock className="w-3 h-3" />
                                          {task.estimacionHoras}h
                                        </span>
                                      )}
                                    </div>
                                  </div>
                                  <span className={`px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap ml-4 ${
                                    task.estado === 'pendiente' ? 'bg-gray-600' :
                                    task.estado === 'en_progreso' ? 'bg-blue-500' : 'bg-green-500'
                                  }`}>
                                    {task.estado.replace('_', ' ')}
                                  </span>
                                </div>
                              </div>
                            ))}
                          </div>
                        </div>
                      );
                    })}
                  </div>
                )}
              </div>
            )}
          </div>

          {/* Processing Indicator */}
          {processing && (
            <div className="fixed bottom-20 right-4 bg-purple-500 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-3 z-50">
              <div className="animate-spin rounded-full h-5 w-5 border-b-2 border-white"></div>
              <span className="font-medium">Procesando con IA...</span>
            </div>
          )}

          {/* Footer Info */}
          <div className="fixed bottom-0 left-0 right-0 bg-black bg-opacity-70 backdrop-blur-lg border-t border-gray-700 p-3 text-center text-xs text-gray-400 z-20">
            <div className="flex items-center justify-center gap-4 flex-wrap">
              <span>üì± Visual Mind AI v1.0</span>
              <span>‚Ä¢</span>
              <span>{recordings.length} grabaciones</span>
              <span>‚Ä¢</span>
              <span>{tasks.length} tareas totales</span>
              <span>‚Ä¢</span>
              <span>{tasks.filter(t => t.estado === 'pendiente').length} pendientes</span>
              {!isOnline && (
                <>
                  <span>‚Ä¢</span>
                  <span className="text-red-400">‚ö†Ô∏è Offline</span>
                </>
              )}
            </div>
          </div>
        </div>
      );
    }

    // Renderizar aplicaci√≥n
    ReactDOM.render(<VisualMindAI />, document.getElementById('root'));
  </script>
</body>
</html>
